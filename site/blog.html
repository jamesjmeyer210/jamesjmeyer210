<!Doctype html>
<html lang="en" manifest="manifest.mf">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Blog</title>
    </head>
    <body>
        <main></main>
        <script src="../js/showdown.min.js" type="text/javascript"></script>
        <script>
            let doc = {
                main: document.body.children[0],
            };
            let converter = new showdown.Converter();

            let req = new XMLHttpRequest();

            req.open('GET', `${window.origin}/site/blog.md`);
            
            req.addEventListener('load', (event) => {
                doc.main.innerHTML = converter.makeHtml(event.originalTarget.responseText);
            });
            
            req.addEventListener('error', (event) => {
                alert("Something went wrong with the XMLHttpRequest.");
                console.log(event);
            });

            req.send();
        </script>
    </body>
</html>
